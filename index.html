<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title></title>
    <style>
      :root {
        --color: #44a;
        font-family: sans serif;
      }

      main {
        max-width: 600px;
        margin: 0 auto;
      }

      main > *,
      textarea {
        display: block;
        width: 100%;
        resize: none;
      }

      textarea:focus {
        outline: 2px solid var(--color);
      }

      h1 {
        font-size: 125%;
      }

      h2 {
        font-size: 100%;
      }

      pre {
        border-left: 2px solid var(--color);
        padding-left: 1em;
      }

      .keyword {
        color: var(--color);
      }
    </style>
  </head>

  <body>
    <main>
      <h1>JS Code Info</h1>
      <label
        >Input Code
        <textarea rows="10"></textarea>
      </label>
      <h2>Computed Metrics</h2>
      <p>Line Count: <output name="line-count">Not Implemented</output></p>
      <p>Blank Line Count: <output name="blank-line-count">Not Implemented</output></p>
      <p>Character Count: <output name="char-count">Not Implemented</output></p>
      <h2>Highlighted Code</h2>
      <pre><code>Not Implemented</code></pre>
    </main>
    <script>
      const keywords = [
        'async',
        'await',
        'break',
        'case',
        'catch',
        'class',
        'const',
        'continue',
        'default',
        'delete',
        'do',
        'else',
        'export',
        'extends',
        'false',
        'for',
        'function',
        'goto',
        'if',
        'import',
        'in',
        'instanceof',
        'let',
        'new',
        'null',
        'private',
        'protected',
        'public',
        'return',
        'switch',
        'this',
        'throw',
        'true',
        'try',
        'typeof',
        'var',
        'while',
      ]
      
      const textarea = document.querySelector('textarea')
      const linecountout = document.querySelector('[name="line-count"]')
      const blankcountout= document.querySelector('[name="blank-line-count"]')
      const charcounting= document.querySelector('[name="char-count"]')
      const highlightedCode = document.querySelector('code')
      
      document.querySelector('textarea').addEventListener('input', update)

      function update() {}
        const textareaValue = textarea.value // get the value of the textarea
        const lines = text.split('\n') // split the value into lines
        const totallines = lines.length // count the total number of lines
        let blanklines = 0 // start blank line counter
        
        
        for (const line of lines) { // loop through each line
          if (line.trim() === '') { // check if the line is blank
            blanklines++
          }
        }
        const totalChars = text.length // count the number of characters


        linecountout.textContent = totallines // update line count output
        blankcountout.textContent = blanklines // update blank line count output
        charcounting.textContent = totalChars // update character count output
        
        let highlighted = escapeHtml(text)
        for (let word in keywords) {
          const wordpattern= new RegExp('\\b' + word + '\\b', 'g')
          highlighted = highlighted.replace(wordpattern, '<span class="keyword">' + word + '</span>')
        }
        codeBlpoc
      update()
    </script>
  </body>
</html>



